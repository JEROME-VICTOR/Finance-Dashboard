import React, { useState, useEffect} from "react";
import CompanyPanel from "./panels/CompanyPanel";
import AllocationPanel from "./panels/AllocationPanel";
import PerformancePanel from "./panels/PerformancePanel";
import PositionsPanel from "./panels/PositionsPanel";
import { CompanyData } from '../src/helpers/types';
import { useLocation } from "react-router-dom";

export default function Dashboard() {
  const location = useLocation();
  const params = new URLSearchParams(location.search);
  let companyName:string | null = params.get("company")
  companyName = companyName ? decodeURIComponent(companyName) : null;

  let totalStockCount = 20
  const [companyData, setCompanyData] = useState<CompanyData[]>([]);
  // let jsonData = [
  //   {
  //     "name": "Carter - Collier",
  //     "stockData": [
  //       {
  //         "open": "915.64",
  //         "high": "95.85",
  //         "low": "177.77",
  //         "close": "536.77",
  //         "volume": "401911.84",
  //         "date": "2019-12-28T22:51:44.360Z"
  //       },
  //       {
  //         "open": "915.64",
  //         "high": "615.81",
  //         "low": "344.56",
  //         "close": "296.30",
  //         "volume": "63126.26",
  //         "date": "2019-12-26T14:49:17.888Z"
  //       },
  //       {
  //         "open": "915.64",
  //         "high": "986.52",
  //         "low": "556.80",
  //         "close": "625.31",
  //         "volume": "129709.93",
  //         "date": "2019-12-23T20:59:57.686Z"
  //       },
  //       {
  //         "open": "915.64",
  //         "high": "868.15",
  //         "low": "273.00",
  //         "close": "57.16",
  //         "volume": "877962.64",
  //         "date": "2019-12-27T16:08:50.530Z"
  //       },
  //       {
  //         "open": "915.64",
  //         "high": "120.74",
  //         "low": "135.03",
  //         "close": "440.93",
  //         "volume": "449348.83",
  //         "date": "2019-12-31T21:17:42.256Z"
  //       },
  //       {
  //         "open": "915.64",
  //         "high": "592.94",
  //         "low": "40.34",
  //         "close": "759.26",
  //         "volume": "829959.90",
  //         "date": "2019-12-28T19:44:57.131Z"
  //       },
  //       {
  //         "open": "915.64",
  //         "high": "310.68",
  //         "low": "611.54",
  //         "close": "789.12",
  //         "volume": "361546.30",
  //         "date": "2019-12-27T09:33:57.487Z"
  //       },
  //       {
  //         "open": "915.64",
  //         "high": "427.87",
  //         "low": "84.52",
  //         "close": "173.38",
  //         "volume": "730960.79",
  //         "date": "2019-12-23T00:08:21.490Z"
  //       },
  //       {
  //         "open": "915.64",
  //         "high": "551.97",
  //         "low": "512.47",
  //         "close": "942.54",
  //         "volume": "654944.72",
  //         "date": "2019-12-27T23:45:39.381Z"
  //       },
  //       {
  //         "open": "915.64",
  //         "high": "749.95",
  //         "low": "976.73",
  //         "close": "350.60",
  //         "volume": "319370.41",
  //         "date": "2019-12-25T20:10:14.199Z"
  //       },
  //       {
  //         "open": "915.64",
  //         "high": "368.72",
  //         "low": "621.78",
  //         "close": "289.83",
  //         "volume": "930733.75",
  //         "date": "2019-12-31T14:20:15.737Z"
  //       },
  //       {
  //         "open": "915.64",
  //         "high": "69.79",
  //         "low": "135.86",
  //         "close": "447.66",
  //         "volume": "96298.22",
  //         "date": "2019-12-27T17:57:29.996Z"
  //       },
  //       {
  //         "open": "915.64",
  //         "high": "541.48",
  //         "low": "703.39",
  //         "close": "584.14",
  //         "volume": "566173.76",
  //         "date": "2019-12-27T14:32:40.740Z"
  //       },
  //       {
  //         "open": "915.64",
  //         "high": "747.32",
  //         "low": "281.12",
  //         "close": "761.16",
  //         "volume": "896863.99",
  //         "date": "2019-12-23T09:12:55.636Z"
  //       },
  //       {
  //         "open": "915.64",
  //         "high": "922.71",
  //         "low": "595.86",
  //         "close": "169.18",
  //         "volume": "539104.69",
  //         "date": "2019-12-25T13:48:21.854Z"
  //       },
  //       {
  //         "open": "915.64",
  //         "high": "16.42",
  //         "low": "168.58",
  //         "close": "335.39",
  //         "volume": "190705.46",
  //         "date": "2019-12-29T01:08:16.487Z"
  //       },
  //       {
  //         "open": "915.64",
  //         "high": "337.08",
  //         "low": "699.75",
  //         "close": "607.30",
  //         "volume": "931368.08",
  //         "date": "2019-12-29T09:36:38.102Z"
  //       },
  //       {
  //         "open": "915.64",
  //         "high": "503.25",
  //         "low": "549.01",
  //         "close": "869.98",
  //         "volume": "69888.10",
  //         "date": "2019-12-23T18:39:42.565Z"
  //       },
  //       {
  //         "open": "915.64",
  //         "high": "77.28",
  //         "low": "631.70",
  //         "close": "903.60",
  //         "volume": "668396.85",
  //         "date": "2019-12-31T20:30:50.706Z"
  //       },
  //       {
  //         "open": "915.64",
  //         "high": "41.11",
  //         "low": "626.08",
  //         "close": "326.89",
  //         "volume": "787411.52",
  //         "date": "2019-12-26T04:13:50.688Z"
  //       }
  //     ],
  //     "assetsData": [
  //       {
  //         "cash": "14.2%",
  //         "bonds": "14.0%",
  //         "International": "8.4%",
  //         "domestic": "11.8%"
  //       }
  //     ]
  //   },
  //   {
  //     "name": "Kiehn - Lebsack",
  //     "stockData": [
  //       {
  //         "open": "410.94",
  //         "high": "987.06",
  //         "low": "114.15",
  //         "close": "43.20",
  //         "volume": "933014.24",
  //         "date": "2019-12-25T05:15:14.541Z"
  //       },
  //       {
  //         "open": "410.94",
  //         "high": "747.11",
  //         "low": "764.27",
  //         "close": "909.58",
  //         "volume": "182407.57",
  //         "date": "2019-12-26T13:28:25.671Z"
  //       },
  //       {
  //         "open": "410.94",
  //         "high": "846.62",
  //         "low": "447.93",
  //         "close": "229.40",
  //         "volume": "787495.48",
  //         "date": "2019-12-30T14:57:28.197Z"
  //       },
  //       {
  //         "open": "410.94",
  //         "high": "632.19",
  //         "low": "208.56",
  //         "close": "419.69",
  //         "volume": "224166.23",
  //         "date": "2019-12-26T12:37:14.947Z"
  //       },
  //       {
  //         "open": "410.94",
  //         "high": "167.94",
  //         "low": "469.53",
  //         "close": "73.53",
  //         "volume": "911230.45",
  //         "date": "2019-12-22T05:38:58.407Z"
  //       },
  //       {
  //         "open": "410.94",
  //         "high": "796.75",
  //         "low": "782.60",
  //         "close": "85.79",
  //         "volume": "945684.31",
  //         "date": "2019-12-25T17:49:02.528Z"
  //       },
  //       {
  //         "open": "410.94",
  //         "high": "475.15",
  //         "low": "512.42",
  //         "close": "636.19",
  //         "volume": "879902.80",
  //         "date": "2019-12-25T23:16:22.098Z"
  //       },
  //       {
  //         "open": "410.94",
  //         "high": "318.83",
  //         "low": "213.08",
  //         "close": "110.46",
  //         "volume": "697873.10",
  //         "date": "2019-12-31T09:14:55.449Z"
  //       },
  //       {
  //         "open": "410.94",
  //         "high": "426.90",
  //         "low": "549.45",
  //         "close": "807.28",
  //         "volume": "123553.62",
  //         "date": "2019-12-30T15:10:11.399Z"
  //       },
  //       {
  //         "open": "410.94",
  //         "high": "824.05",
  //         "low": "53.45",
  //         "close": "214.02",
  //         "volume": "135853.86",
  //         "date": "2019-12-25T01:20:04.631Z"
  //       },
  //       {
  //         "open": "410.94",
  //         "high": "674.98",
  //         "low": "661.46",
  //         "close": "837.19",
  //         "volume": "306449.18",
  //         "date": "2019-12-25T00:01:08.022Z"
  //       },
  //       {
  //         "open": "410.94",
  //         "high": "350.78",
  //         "low": "961.65",
  //         "close": "668.74",
  //         "volume": "388942.31",
  //         "date": "2019-12-22T12:33:15.909Z"
  //       },
  //       {
  //         "open": "410.94",
  //         "high": "484.99",
  //         "low": "257.40",
  //         "close": "222.60",
  //         "volume": "550640.05",
  //         "date": "2019-12-24T06:18:03.637Z"
  //       },
  //       {
  //         "open": "410.94",
  //         "high": "447.97",
  //         "low": "736.16",
  //         "close": "779.17",
  //         "volume": "769085.75",
  //         "date": "2019-12-25T23:53:13.926Z"
  //       },
  //       {
  //         "open": "410.94",
  //         "high": "658.24",
  //         "low": "932.42",
  //         "close": "385.64",
  //         "volume": "155124.98",
  //         "date": "2019-12-22T23:55:24.575Z"
  //       },
  //       {
  //         "open": "410.94",
  //         "high": "809.57",
  //         "low": "140.60",
  //         "close": "259.77",
  //         "volume": "900034.49",
  //         "date": "2019-12-27T01:07:09.547Z"
  //       },
  //       {
  //         "open": "410.94",
  //         "high": "998.15",
  //         "low": "117.15",
  //         "close": "396.36",
  //         "volume": "171397.52",
  //         "date": "2019-12-23T22:47:54.487Z"
  //       },
  //       {
  //         "open": "410.94",
  //         "high": "401.68",
  //         "low": "346.49",
  //         "close": "874.35",
  //         "volume": "775317.30",
  //         "date": "2019-12-24T19:41:02.651Z"
  //       },
  //       {
  //         "open": "410.94",
  //         "high": "870.35",
  //         "low": "141.57",
  //         "close": "603.06",
  //         "volume": "253839.18",
  //         "date": "2019-12-26T01:50:13.699Z"
  //       },
  //       {
  //         "open": "410.94",
  //         "high": "866.21",
  //         "low": "557.03",
  //         "close": "457.71",
  //         "volume": "735137.89",
  //         "date": "2019-12-28T15:09:24.204Z"
  //       }
  //     ],
  //     "assetsData": [
  //       {
  //         "cash": "13.6%",
  //         "bonds": "12.4%",
  //         "International": "6.8%",
  //         "domestic": "12.2%"
  //       }
  //     ]
  //   },
  //   {
  //     "name": "Considine - Tremblay",
  //     "stockData": [
  //       {
  //         "open": "382.79",
  //         "high": "748.48",
  //         "low": "231.54",
  //         "close": "68.82",
  //         "volume": "285287.20",
  //         "date": "2019-12-23T20:09:02.528Z"
  //       },
  //       {
  //         "open": "382.79",
  //         "high": "350.71",
  //         "low": "288.25",
  //         "close": "865.48",
  //         "volume": "887974.86",
  //         "date": "2019-12-29T21:10:55.213Z"
  //       },
  //       {
  //         "open": "382.79",
  //         "high": "612.13",
  //         "low": "332.48",
  //         "close": "530.65",
  //         "volume": "996317.81",
  //         "date": "2019-12-30T01:47:28.162Z"
  //       },
  //       {
  //         "open": "382.79",
  //         "high": "68.83",
  //         "low": "11.54",
  //         "close": "370.35",
  //         "volume": "783463.84",
  //         "date": "2019-12-27T15:31:03.510Z"
  //       },
  //       {
  //         "open": "382.79",
  //         "high": "796.85",
  //         "low": "129.17",
  //         "close": "841.21",
  //         "volume": "212974.66",
  //         "date": "2019-12-23T11:38:48.482Z"
  //       },
  //       {
  //         "open": "382.79",
  //         "high": "932.30",
  //         "low": "614.35",
  //         "close": "896.77",
  //         "volume": "148288.43",
  //         "date": "2019-12-27T02:15:18.545Z"
  //       },
  //       {
  //         "open": "382.79",
  //         "high": "714.57",
  //         "low": "276.04",
  //         "close": "340.59",
  //         "volume": "427772.29",
  //         "date": "2019-12-30T09:15:39.599Z"
  //       },
  //       {
  //         "open": "382.79",
  //         "high": "542.80",
  //         "low": "866.37",
  //         "close": "532.73",
  //         "volume": "402495.22",
  //         "date": "2019-12-30T22:14:56.123Z"
  //       },
  //       {
  //         "open": "382.79",
  //         "high": "814.72",
  //         "low": "422.96",
  //         "close": "406.46",
  //         "volume": "175561.85",
  //         "date": "2019-12-26T02:39:39.788Z"
  //       },
  //       {
  //         "open": "382.79",
  //         "high": "451.30",
  //         "low": "973.71",
  //         "close": "529.64",
  //         "volume": "404200.59",
  //         "date": "2019-12-31T20:11:18.910Z"
  //       },
  //       {
  //         "open": "382.79",
  //         "high": "953.44",
  //         "low": "353.26",
  //         "close": "485.06",
  //         "volume": "917256.39",
  //         "date": "2019-12-22T09:16:34.679Z"
  //       },
  //       {
  //         "open": "382.79",
  //         "high": "914.09",
  //         "low": "818.22",
  //         "close": "829.08",
  //         "volume": "19821.43",
  //         "date": "2019-12-22T10:16:07.651Z"
  //       },
  //       {
  //         "open": "382.79",
  //         "high": "496.56",
  //         "low": "22.26",
  //         "close": "73.73",
  //         "volume": "326449.43",
  //         "date": "2019-12-25T17:25:34.069Z"
  //       },
  //       {
  //         "open": "382.79",
  //         "high": "48.21",
  //         "low": "541.80",
  //         "close": "195.00",
  //         "volume": "496783.31",
  //         "date": "2019-12-25T00:46:44.975Z"
  //       },
  //       {
  //         "open": "382.79",
  //         "high": "783.55",
  //         "low": "92.81",
  //         "close": "594.57",
  //         "volume": "452960.13",
  //         "date": "2019-12-27T23:06:38.523Z"
  //       },
  //       {
  //         "open": "382.79",
  //         "high": "881.39",
  //         "low": "913.93",
  //         "close": "107.45",
  //         "volume": "582046.23",
  //         "date": "2019-12-22T03:12:51.750Z"
  //       },
  //       {
  //         "open": "382.79",
  //         "high": "184.03",
  //         "low": "568.16",
  //         "close": "17.49",
  //         "volume": "678134.51",
  //         "date": "2019-12-24T00:10:47.345Z"
  //       },
  //       {
  //         "open": "382.79",
  //         "high": "987.18",
  //         "low": "830.67",
  //         "close": "603.65",
  //         "volume": "193833.39",
  //         "date": "2019-12-29T05:56:36.664Z"
  //       },
  //       {
  //         "open": "382.79",
  //         "high": "579.63",
  //         "low": "201.44",
  //         "close": "203.59",
  //         "volume": "55769.05",
  //         "date": "2019-12-27T04:06:27.147Z"
  //       },
  //       {
  //         "open": "382.79",
  //         "high": "695.02",
  //         "low": "194.01",
  //         "close": "810.64",
  //         "volume": "512673.05",
  //         "date": "2019-12-27T06:01:51.269Z"
  //       }
  //     ],
  //     "assetsData": [
  //       {
  //         "cash": "10.1%",
  //         "bonds": "12.3%",
  //         "International": "6.6%",
  //         "domestic": "14.9%"
  //       }
  //     ]
  //   },
  //   {
  //     "name": "Weimann - Stroman",
  //     "stockData": [
  //       {
  //         "open": "535.30",
  //         "high": "885.70",
  //         "low": "677.33",
  //         "close": "840.77",
  //         "volume": "163563.97",
  //         "date": "2019-12-22T05:38:52.514Z"
  //       },
  //       {
  //         "open": "535.30",
  //         "high": "480.09",
  //         "low": "300.07",
  //         "close": "977.79",
  //         "volume": "666244.28",
  //         "date": "2019-12-25T23:08:14.424Z"
  //       },
  //       {
  //         "open": "535.30",
  //         "high": "267.64",
  //         "low": "371.69",
  //         "close": "505.29",
  //         "volume": "151850.47",
  //         "date": "2019-12-22T17:07:41.942Z"
  //       },
  //       {
  //         "open": "535.30",
  //         "high": "352.55",
  //         "low": "777.51",
  //         "close": "418.55",
  //         "volume": "907819.27",
  //         "date": "2019-12-27T15:16:26.994Z"
  //       },
  //       {
  //         "open": "535.30",
  //         "high": "181.49",
  //         "low": "56.11",
  //         "close": "908.19",
  //         "volume": "896111.52",
  //         "date": "2019-12-22T15:39:06.740Z"
  //       },
  //       {
  //         "open": "535.30",
  //         "high": "354.07",
  //         "low": "632.63",
  //         "close": "126.36",
  //         "volume": "101133.10",
  //         "date": "2019-12-22T19:49:39.967Z"
  //       },
  //       {
  //         "open": "535.30",
  //         "high": "782.78",
  //         "low": "416.13",
  //         "close": "511.03",
  //         "volume": "380069.17",
  //         "date": "2019-12-29T11:06:50.912Z"
  //       },
  //       {
  //         "open": "535.30",
  //         "high": "167.87",
  //         "low": "519.05",
  //         "close": "361.87",
  //         "volume": "573722.44",
  //         "date": "2019-12-28T17:39:15.974Z"
  //       },
  //       {
  //         "open": "535.30",
  //         "high": "356.43",
  //         "low": "813.73",
  //         "close": "570.80",
  //         "volume": "549028.42",
  //         "date": "2019-12-24T03:33:43.229Z"
  //       },
  //       {
  //         "open": "535.30",
  //         "high": "434.56",
  //         "low": "16.02",
  //         "close": "7.06",
  //         "volume": "60829.22",
  //         "date": "2019-12-30T12:15:47.603Z"
  //       },
  //       {
  //         "open": "535.30",
  //         "high": "160.60",
  //         "low": "273.21",
  //         "close": "215.33",
  //         "volume": "225304.27",
  //         "date": "2019-12-25T02:43:14.557Z"
  //       },
  //       {
  //         "open": "535.30",
  //         "high": "152.27",
  //         "low": "410.23",
  //         "close": "88.75",
  //         "volume": "348487.47",
  //         "date": "2019-12-25T17:16:11.438Z"
  //       },
  //       {
  //         "open": "535.30",
  //         "high": "890.08",
  //         "low": "8.23",
  //         "close": "374.76",
  //         "volume": "85831.58",
  //         "date": "2019-12-23T12:09:37.413Z"
  //       },
  //       {
  //         "open": "535.30",
  //         "high": "883.88",
  //         "low": "362.67",
  //         "close": "118.37",
  //         "volume": "656496.31",
  //         "date": "2019-12-25T21:34:53.152Z"
  //       },
  //       {
  //         "open": "535.30",
  //         "high": "103.31",
  //         "low": "853.58",
  //         "close": "497.99",
  //         "volume": "954073.25",
  //         "date": "2019-12-30T18:42:42.126Z"
  //       },
  //       {
  //         "open": "535.30",
  //         "high": "112.35",
  //         "low": "699.39",
  //         "close": "55.20",
  //         "volume": "337290.38",
  //         "date": "2019-12-29T16:47:46.560Z"
  //       },
  //       {
  //         "open": "535.30",
  //         "high": "932.88",
  //         "low": "553.38",
  //         "close": "266.99",
  //         "volume": "611260.28",
  //         "date": "2019-12-27T00:41:14.276Z"
  //       },
  //       {
  //         "open": "535.30",
  //         "high": "255.46",
  //         "low": "707.60",
  //         "close": "187.81",
  //         "volume": "930693.01",
  //         "date": "2019-12-26T16:26:45.934Z"
  //       },
  //       {
  //         "open": "535.30",
  //         "high": "904.19",
  //         "low": "739.61",
  //         "close": "684.36",
  //         "volume": "318058.85",
  //         "date": "2019-12-24T11:25:14.509Z"
  //       },
  //       {
  //         "open": "535.30",
  //         "high": "388.86",
  //         "low": "211.38",
  //         "close": "272.75",
  //         "volume": "139828.09",
  //         "date": "2019-12-28T15:05:57.832Z"
  //       }
  //     ],
  //     "assetsData": [
  //       {
  //         "cash": "9.1%",
  //         "bonds": "13.4%",
  //         "International": "8.9%",
  //         "domestic": "11.6%"
  //       }
  //     ]
  //   },
  //   {
  //     "name": "Rau, Daugherty and Botsford",
  //     "stockData": [
  //       {
  //         "open": "965.11",
  //         "high": "598.57",
  //         "low": "148.47",
  //         "close": "869.13",
  //         "volume": "92026.98",
  //         "date": "2019-12-24T11:21:14.751Z"
  //       },
  //       {
  //         "open": "965.11",
  //         "high": "17.74",
  //         "low": "950.36",
  //         "close": "607.72",
  //         "volume": "738359.72",
  //         "date": "2019-12-30T03:51:47.954Z"
  //       },
  //       {
  //         "open": "965.11",
  //         "high": "842.92",
  //         "low": "171.16",
  //         "close": "888.21",
  //         "volume": "253921.62",
  //         "date": "2019-12-30T15:15:58.513Z"
  //       },
  //       {
  //         "open": "965.11",
  //         "high": "393.85",
  //         "low": "777.33",
  //         "close": "949.54",
  //         "volume": "857661.20",
  //         "date": "2019-12-29T22:56:04.813Z"
  //       },
  //       {
  //         "open": "965.11",
  //         "high": "539.10",
  //         "low": "956.90",
  //         "close": "199.94",
  //         "volume": "670892.22",
  //         "date": "2019-12-23T07:33:22.651Z"
  //       },
  //       {
  //         "open": "965.11",
  //         "high": "132.50",
  //         "low": "384.14",
  //         "close": "773.63",
  //         "volume": "369110.70",
  //         "date": "2019-12-26T11:33:08.308Z"
  //       },
  //       {
  //         "open": "965.11",
  //         "high": "918.46",
  //         "low": "781.21",
  //         "close": "551.91",
  //         "volume": "781452.77",
  //         "date": "2019-12-30T22:17:25.739Z"
  //       },
  //       {
  //         "open": "965.11",
  //         "high": "183.54",
  //         "low": "496.10",
  //         "close": "628.98",
  //         "volume": "849885.62",
  //         "date": "2019-12-28T22:34:38.485Z"
  //       },
  //       {
  //         "open": "965.11",
  //         "high": "379.95",
  //         "low": "140.36",
  //         "close": "332.08",
  //         "volume": "417292.96",
  //         "date": "2019-12-25T09:08:33.765Z"
  //       },
  //       {
  //         "open": "965.11",
  //         "high": "215.42",
  //         "low": "851.65",
  //         "close": "650.20",
  //         "volume": "871591.43",
  //         "date": "2019-12-25T11:34:53.937Z"
  //       },
  //       {
  //         "open": "965.11",
  //         "high": "753.81",
  //         "low": "688.06",
  //         "close": "657.90",
  //         "volume": "33974.68",
  //         "date": "2019-12-31T17:23:46.454Z"
  //       },
  //       {
  //         "open": "965.11",
  //         "high": "428.95",
  //         "low": "152.64",
  //         "close": "890.71",
  //         "volume": "209367.45",
  //         "date": "2019-12-29T11:21:39.780Z"
  //       },
  //       {
  //         "open": "965.11",
  //         "high": "858.99",
  //         "low": "268.53",
  //         "close": "842.06",
  //         "volume": "201074.45",
  //         "date": "2019-12-30T15:21:57.266Z"
  //       },
  //       {
  //         "open": "965.11",
  //         "high": "453.82",
  //         "low": "657.32",
  //         "close": "271.07",
  //         "volume": "327803.22",
  //         "date": "2019-12-25T03:43:40.527Z"
  //       },
  //       {
  //         "open": "965.11",
  //         "high": "441.89",
  //         "low": "497.81",
  //         "close": "25.60",
  //         "volume": "862278.57",
  //         "date": "2019-12-31T08:28:33.155Z"
  //       },
  //       {
  //         "open": "965.11",
  //         "high": "291.00",
  //         "low": "903.46",
  //         "close": "645.38",
  //         "volume": "892005.81",
  //         "date": "2019-12-31T03:49:56.036Z"
  //       },
  //       {
  //         "open": "965.11",
  //         "high": "670.82",
  //         "low": "402.72",
  //         "close": "37.12",
  //         "volume": "411496.87",
  //         "date": "2019-12-31T17:41:06.374Z"
  //       },
  //       {
  //         "open": "965.11",
  //         "high": "423.76",
  //         "low": "171.31",
  //         "close": "884.31",
  //         "volume": "575669.10",
  //         "date": "2019-12-25T15:31:57.751Z"
  //       },
  //       {
  //         "open": "965.11",
  //         "high": "673.13",
  //         "low": "39.70",
  //         "close": "295.37",
  //         "volume": "609055.23",
  //         "date": "2019-12-30T00:48:49.210Z"
  //       },
  //       {
  //         "open": "965.11",
  //         "high": "419.37",
  //         "low": "261.27",
  //         "close": "494.66",
  //         "volume": "165925.68",
  //         "date": "2019-12-24T07:14:54.044Z"
  //       }
  //     ],
  //     "assetsData": [
  //       {
  //         "cash": "10.4%",
  //         "bonds": "11.7%",
  //         "International": "6.0%",
  //         "domestic": "10.5%"
  //       }
  //     ]
  //   }
  // ]
  useEffect(() => {
    const fetchData = async () => {
      try {
        const response = await fetch(`http://localhost:8080/api/data/${totalStockCount}`);
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        const data = await response.json();
        setCompanyData(data);
      } catch (error) {
        console.error(error);
      }
    };

    fetchData();
  }, []);

  return (
    <div className="panels">
      <div className="panel-info">
        <CompanyPanel companyData={companyData}/>
      </div>
      {
        !companyName && (
          <h4>Dashboard</h4>
        )
      }
      {
        companyName && (
          <div>
            <div className="panel-allocation">
              <h2>{companyName}</h2>
              <AllocationPanel companyData={companyData} companyName={companyName}/>
            </div>
            <div className="panel-balance">
              <PerformancePanel companyData={companyData} companyName={companyName}/>
            </div>
            <div className="panel-positions">
              <PositionsPanel companyData={companyData} companyName={companyName}/>
            </div>
          </div>
        )
      }
    </div>
  )
}
